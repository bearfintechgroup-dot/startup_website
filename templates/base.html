<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BEAR FINTECH GROUP</title>

    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="icon" type="image/svg+xml" href="{{ url_for('static', filename='images/bear_logo.svg') }}">
</head>

<body>

<!-- PARTICLES BACKGROUND -->
<div id="particles-wrapper">
    <div id="particles-js"></div>
</div>

<div class="hero-overlay"></div>

<!-- PAGE LOADER -->
<div id="page-loader">
    <div class="loader-glass">
        <img src="{{ url_for('static', filename='images/bear_logo.svg') }}" class="loader-logo" alt="Bear Logo">
        <p class="loader-text">Preparing your experience...</p>
        <p class="loader-subtext">BEAR FINTECH GROUP</p>
    </div>
</div>

<!-- NAVBAR -->
<nav class="navbar">
    <div class="nav-left">
        <img src="{{ url_for('static', filename='images/bear_logo.svg') }}" class="nav-logo" alt="Bear Logo">
        <span class="brand-name">BEAR FINTECH GROUP</span>
    </div>

    <div class="hamburger" id="hamburger">
        <span></span><span></span><span></span>
    </div>

    <div class="nav-links" id="nav-links">
        <a href="/" data-nav="true" class="{% if active_page=='home' %}active-nav{% endif %}">Home</a>
        <a href="/about" data-nav="true" class="{% if active_page=='about' %}active-nav{% endif %}">About</a>
        <a href="/services" data-nav="true" class="{% if active_page=='services' %}active-nav{% endif %}">Services</a>
        <a href="/contact" data-nav="true" class="{% if active_page=='contact' %}active-nav{% endif %}">Contact</a>
        <a href="/dashboard" data-nav="true">Dashboard</a>
    </div>
</nav>

{% block content %}{% endblock %}

<!-- FOOTER -->
<footer class="footer">
    <div class="footer-content">
        <div class="footer-col">
            <img src="{{ url_for('static', filename='images/bear_logo.svg') }}" class="footer-logo">
            <h3>BEAR FINTECH GROUP</h3>
            <p>Where finance meets innovation.</p>
        </div>
        <div class="footer-col">
            <h4>Explore</h4>
            <a href="/">Home</a>
            <a href="/about">About</a>
            <a href="/services">Services</a>
            <a href="/contact">Contact</a>
        </div>
        <div class="footer-col">
            <h4>Contact</h4>
            <p>Calgary, Alberta</p>
            <p>bearfintechgroup@gmail.com</p>
        </div>
    </div>
    <div class="footer-bottom">
        <p>© {{ now().year }} Bear Fintech Group — All Rights Reserved.</p>
    </div>
</footer>

<!-- LIBRARIES -->
<script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
<script src="{{ url_for('static', filename='js/particles-config.js') }}"></script>

<!-- CORE APP SCRIPT -->
<script>
document.addEventListener("DOMContentLoaded", () => {

    /* --------------------------------
       PAGE LOADER
    -------------------------------- */
    const loader = document.getElementById("page-loader");
    setTimeout(() => loader?.classList.add("loader-hidden"), 300);

    document.querySelectorAll('a[data-nav="true"]').forEach(link => {
        link.addEventListener("click", e => {
            const href = link.getAttribute("href");
            if (!href || href.startsWith("#")) return;
            e.preventDefault();
            loader?.classList.remove("loader-hidden");
            setTimeout(() => window.location.href = href, 200);
        });
    });

    /* --------------------------------
       HAMBURGER MENU
    -------------------------------- */


    /* --------------------------------
       SCROLL EFFECTS
    -------------------------------- */
    const navbar = document.querySelector(".navbar");
    const hero = document.querySelector(".hero-image");
    const particles = document.getElementById("particles-wrapper");

    window.addEventListener("scroll", () => {
        navbar?.classList.toggle("scrolled", window.scrollY > 20);

        if (hero && particles) {
            particles.classList.toggle(
                "hidden",
                window.scrollY < hero.offsetHeight - 50
            );
            hero.style.backgroundPosition = `center ${window.scrollY * 0.4}px`;
        }
    });

    /* --------------------------------
       FADE-IN OBSERVER
    -------------------------------- */
    const observer = new IntersectionObserver(entries => {
        entries.forEach(e => e.isIntersecting && e.target.classList.add("appear"));
    }, { threshold: 0.15 });

    document.querySelectorAll(".fade-in, .fade-rise")
        .forEach(el => observer.observe(el));

    /* --------------------------------
       SERVICE CLICK ANALYTICS
    -------------------------------- */
    document.querySelectorAll(".premium-service-link").forEach(link => {
        link.addEventListener("click", () => {
            const service = link.dataset.service || "unknown";
            const clicks = JSON.parse(localStorage.getItem("bearfintech_clicks") || "[]");
            clicks.push({ service, time: new Date().toISOString() });
            localStorage.setItem("bearfintech_clicks", JSON.stringify(clicks));
            console.log("Service click logged:", service);
        });
    });

});
</script>

<script src="{{ url_for('static', filename='js/base.js') }}"></script>


</body>
</html>
